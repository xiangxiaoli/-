# -
Java编程入门-霍巴特和威廉斯密斯学院-戴维.约翰.艾克教授-2018年12月第8版
12.19
Java编程入门是一本使用Java语言作为指令集的入门级电脑编程免费教科书。他适合作为编程入门课程使用，也可以作为那些自学编程的初学者们的入门书籍。不需要熟悉计算机和编程思想。有足够贯穿本科一年编程课程的材料。第1至7章可以作为本科一学期或者高中一年的课程，剩下的章节可以作为第二门课程的内容。
本书的第七版涵盖Java7，而Java最新版本是Java8.但本书只有很少的一部分涉及到Java8的新特性。
本书的主页是HTTP：//math.hws.edu/javanotes/.该地址包含本书的PDF版本以及网页全部的副本下载链接地址。网页和网页下载包含本书每一章习题、答疑和讨论的答案，以及所有书中讨论样例代码的源代码。当你们读这本书的时候，我们鼓励你去下载这些样例代码的源文件来读并运行起来试一试。如果读者们想获得书本之外更多的知识，我们也非常乐意看到你们去读练习题的解决方法。
准确来说，这是一本教科书而不仅仅是一本教程。它专注于解释概念而不是教你怎么一步步去实现的教程。我试图使用对话的风格，这样与其说是教科书不如说是在教室里上课。这不仅仅是一本与Java有关的书，也没有使用Java的全部特性。它也不是那些已经了解一门编程语言的人用来作为Java快速入门的书籍。相反，它主要是给那些第一次学习编程的人而写的，书中内容主要是Java编程的基础性内容。我认为Java编程入门这本书是市场上编程教科书中竞争性较强的传统出版书籍（至少我是这么认为的）。
教Java有很多种方法，其中一种是一开始就使用图形用户界面编程。一些人认为面向对象编程一开始就应该得到强调。这并不是我采用的方法。我是用的是我比较喜欢的非常基础的一种构建程序块并从程序块开始的方法。在第一章入门之后，我在第2，3，4章就开始涵盖程序编程。将在第5章介绍面向对象编程。第6章开始涵盖事件导向和图形用户界面编程的相关内容。数组将在第3章开始介绍并在第7章开始全面应用。第8章是本书的一个转折标识，转向涵盖更多高级主题的编程思想。第8章开始介绍编写健壮、准确、高效的程序。第9章和第10章开始涵盖递归和数据结构，以及Java回收器框架。第11章是关于文件和网络。第12章是涵盖线程和并行处理。最后第13章又回归到涵盖更多Java高级功能的图形用户界面编程的主题上来。
12.20
Java编程入门第7版比第6版变化更新不太大。实际上，新版本的主要动机是移除本书中使用和涉及到applet的内容。Applet是Java在网页上应用的程序。当Java刚出现的时候，applet应用是非常活跃的，并且看起来像是动态网页将要应用的主要方式。直到第6版以前，本书的网页应用代码一直是使用的applet。但是，因为安全问题和其他技术问题综合影响，applet再也没有得到广泛的应用。而且，本书使用的当前版本的Java把applet变得相当难用和不受欢迎。取代了applet后，对读者而言，下载本书的样例代码在自己的机子上运行将会变的更加容易。
第7版一个标志性的改变就是在第3章就开始对数组进行介绍，并通过接下来的3章介绍它使用的基本形式。以前数组要在第7章以后才开始介绍，也就是介绍完对象和图形界面编程以后才开始。数组的高级特性依然还是在第7章进行介绍。
除此之外，还进行了一些改进，大部分是对Java7的许多新特性进行介绍。
在网站http://math.hws.edu/javanotes/上可以下载到Java编程入门的最新的完整版。这本书的第1版是写于1996年，并在后来更新了好几个版本。所有版本都可以在下面的网址上下载：
第1版：http://math.hws.edu/eck/cs124/javanotes1/（涵盖Java1.0）
第2版：http://math.hws.edu/eck/cs124/javanotes2/（涵盖Java1.1.0）
第3版：http://math.hws.edu/eck/cs124/javanotes3/（涵盖Java1.1.0）
第4版：http://math.hws.edu/eck/cs124/javanotes4/（涵盖Java1.4）
第5版：http://math.hws.edu/eck/cs124/javanotes5/（涵盖Java5.0）
第6版：http://math.hws.edu/eck/cs124/javanotes6/（涵盖Java5.0及以后版本）
第7版：http://math.hws.edu/eck/cs124/javanotes7/（涵盖Java7.0）
Java编程入门是免费的，但是不允许用于公共领域。第7版受非商业共享条款3.0保护出版。条款的副本可以在以下网址上访问到：http://creativecommons.org/license/by-nc-sa/3.0/。比如，你可以：
你可以在自己的网站上引用一个未经修改的副本（包括作者的列表以及出版的条款部分）；
可以送一个本书未修改的副本或者在需要花费的产品上销售它们，与他们在条款中规定的一样；
在网页上使用本书修改后的副本或者书的一部分或者非商业性地出版，特别要指出的是感谢作者所作的贡献，修改版本要特别指明这点，而且修改后的副本也要原来的条款约束下进行分发。这同样适用于翻译成其他语言的版本。
12.21
如果不受条款约束下使用本书，必须要经过作者的同意。当不需要在实际条款约束下使用时，我非常感谢那些使用并共享了我工作的人们。
在产品中需要注意的技术问题：本书的在线版和PDF版是同一个使用大量XML编写的源文件，为了输出PDF版本，XML被处理成一种可以被TEX类型处理程序使用的形式。此外在XML文件中我们还增加了DTDs，XLST转译，Java源代码文件，图片文件，一个TEX宏文件以及两个用来处理程序的脚本。这两个脚本运行在linux和os系统上。
我已经把源文件放到下面这个网址上供大家下载。http://math.hws.edu/eck/cs124/downloads/javanotes7-full-source.zip.
这些文件并不是出版的源文件，因此写的不是很简洁。此外还需要一定量的练习才能使用他们。但是我已经设置了几个在as-is基础上可用的源文件请求。更多关于源文件的信息以及他们是怎么使用的内容请在readme文件中进行查阅。
戴维.约翰.艾克教授，数学与计算机科学部门，霍巴特和威廉斯密斯学院，美国纽约日内瓦州普尔特尼街300号。邮编：eck@hws.edu。网址：http://math.hws.edu/eck/。
 
12.22
第一章
概述：头脑风暴
当你开始一次旅行，最好的办法就是在你的脑袋中将你需要通过的地形形成一副地图。学习编程与一次知性的旅行是一样的原理。在开始编程之前，你需要知道什么是电脑以及他们是怎么工作的。你需要形成一些概念，那就是什么是电脑程序，怎么去创建电脑程序。一旦，你开始使用Java语言开始进行编程，你将会想知道这门语言特别的地方以及现代电脑为Java设置的是什么样的环境。
当你开始读这一章，不要担心你无法了解全部的细节（实际上，在本章中的简单概述中学习所有的细节对你来说，这是非常重要的）。集中注意力使自己熟悉这些大的理念，为书中剩下的部分做准备。本章节所涵盖的大部分内容在其他章节都会提到。
1.1输入和执行周期：机器语言
一台电脑是由许多组件组合而成的复杂系统。但是它的心脏或者说是大脑，如果你愿意，电脑就是一个单一的进行实际计算的元件。它就是中央处理单元，或者叫做CPU。在现代的个人电脑中，CPU是一个单一的大约一寸大小的元件。CPU的工作就是执行电脑程序。
一个电脑程序就是一份清晰的即将由电脑自动执行的指令清单。电脑就是用来读取那些用一种非常简单、叫做机器语言的语言编写的指令。每一种类型的电脑都有自己的机器语言，并且电脑只能直接执行用这种语言编写的程序。（它也可以执行其他程序，但必须要先把这个程序转换成对应的机器语言）。
当CPU执行一个程序，这个程序就会被存储在这个电脑的主存储器中（也叫做静态存储或者随机访问存储器）。除程序之外，存储器还可以存储在程序中处理和使用的数据。主存储器主要是由一系列的寄存器组成。这些寄存器被编了号码，而这一系列寄存器的号码就叫做它的地址。一个地址提供一种方式从存储器成千上万的信息中选择指定的信息块。当CPU需要访问程序指令或者制定寄存器上的数据时，它把那个信息的地址当成一个信号发送给存储器，作为回应存储器把包含在指定寄存器中的数据返回给CPU。CPU通过指定要存储的信息和信息要存储的寄存器的地址也可以将信息存储到存储器中。
12.23
在机器语言层，CPU的操作是相当直接的（细节上还是相当复杂的）。CPU执行以一系列机器语言指令形式存储在主存中的程序。它通过从内存反复读或取一个指令来实现程序执行。这个过程：读一条指令然后执行，取另一条指令然后执行，一直持续下去，叫做读取执行周期。直到有异常退出，异常这个内容将在后面提到，这就是CPU所做的事情。
读取执行循环周期的细节并不是特别的重要，但是你应该对此有所了解。CPU包含一系列的具有存储数字或机器指令功能的内部寄存器，CPU使用其中一个寄存器，叫做程序计数器（PC），追踪记录程序执行到哪一步。程序计数器只是存储下一条CPU将要执行的指令的内存地址。在读取执行循环周期开始前，CPU检查程序计数器看应该读取哪一条指令。在读取执行循环周期期间，PC的数字将会更新为下一条将要执行的指令的地址。（通常，但不是一直，这就是程序中当前指令集中的下一条）。
*   *  *
电脑机械地执行机器语言，从来没有理解和思考过这些机器语言，仅仅是因为它是物理堆积到一起。这不是那么容易理解。一个电脑是由成千上万个叫做晶体管的微开关组成，晶体管具有通过一种一个开关的输出可以把另一个开关打开或者关闭的方式无缝连接的能力。一旦一个电脑开始计算，这些开关就通过他们连线的模式和正在执行的程序作用下互相开或者关。
机器语言通过二进制字符来表达。一个二进制字符由0和1两个字符组成。每一个0或者1叫做一个比特。因此，机器语言就是一系列的0和1组成。每一个特殊序列的编码就代表一个指定的指令。电脑操作的数据也是由一系列的二进制编码组成，在现在的电脑中每一个内存地址代表一个字节，字节由8位二进制数表示。（机器语言指令或者数据的一部分通常由几个字节组成，并存储在连续的内存地址中）。
电脑可以通过二进制编码直接工作是因为开关可以便利地展现这样的数字：打开开关表示其中一个数字1，关掉开关就表示另外一个数字0.机器语言被当成开关开或者关的模式存储在内存中，当一个机器语言加载到CPU时，所做的事情就是在指令编码模式下把开关打开或者关掉。CPU被建立成对执行这种模式下的指令编码做出回应。它可以很轻松地做到这点，因为所有的开关都是连接在一起的。
因此你应该懂得更多关于电脑是如何工作的：内存存储机器语言程序和数据。他们用二进制编码。CPU从内存中读取机器语言指令，并一个接一个地执行它们。它机械地做这个事不思考也不明白这是做什么，因此程序执行必须在所有步骤都要准确、清楚，而CPU除了准确地按照程序写的内容准确执行外什么都做不了。下面是一个关于电脑第一阶段的图表：











1.2异步事件：轮询和中断
CPU耗费全部的时间从内存中读取和并执行指令。然而CPU和内存只是电脑组成的两个部分，一个完整的系统还包含其他的装置，比如：
一个机械硬盘或者固态硬盘用来存储文件和数据。（注意内存只含有相当少的一部分数据信息，并且在开机状态下存储。）机械硬盘或者固态硬盘大数量的信息，但是程序必须要先从硬盘中加载到内存才能够执行。机械硬盘存储数据在旋转磁盘上，而固态硬盘则是没有移动磁头的纯粹的电子介质。
键盘和鼠标用于用户输入。
屏幕和打印机用于显示电脑输出。
音频播放装置允许电脑播放声音。
网络接口用于电脑与其他电脑通过有线或无线的方式在网络上相互连接。
扫描仪转换图片为可以在电脑上操作和存储的二进制数字代码。
装置列表是开放式的，以便电脑系统可以很容易地拓展增加其他的装置。不管怎样，CPU必须要能够连接和控制这些装置。CPU只能够使用机器语言指令来这样做（即周期内它唯一能做的事）。这种工作方式就是系统中的每个装置都有一个驱动，驱动由CPU处理该装置时所用到的执行软件组成。在系统中增加一个装置通常分为两步：将装置物理连接到电脑中，然后存储装置的驱动软件。没有硬件驱动，硬件将没有任何用处，因为CPU无法跟它进行连接。
12.24
一个电脑系统通常通过一条或多条总线组织连接所组成的硬件。总线就是一系列携带各种信息在装置之间相互传递的线路。这些线携带数据、地址和控制信号。地址引导数据到指定的硬件也可能是到指定的寄存器或者是定位指定的硬件。控制信号的作用比如可以用来显示另外一个装置的数据在数据总线上是否可用。一个相当简单的电脑系统可以像下图那样进行组织：
 
现在像鼠标、键盘以及网络接口等可以产生输出的装置需要CPU进行处理。CPU是怎么知道数据来自哪里？有一种简单的模式，虽然看起来不太明智，那就是CPU一直在反复检查输入数据。什么时候发现数据就什么时候处理。这种方法叫做询问，因为CPU一直在询问输入装置是否有数据输入。然而，虽然询问很简单，但效率非常低。CPU耗费相当多的时间来等待输入。
为了避免这种低效的方式，中断用来取代询问。中断是另外一个硬件发送给CPU的信号。CPU通过搁置当前的工作来响应中断。一旦它处理完中断，它就返回到中断发生前它所作的事情上来。比如，当你在你的键盘上按下一个按键，键盘中断就会发送给CPU。CPU中断它当前的工作来响应这个中断信号，读取你所按下的键盘键，处理它，然后返回到你按按键之前它所执行的事情上来。
同样你应该明白，这是一个相当机械的过程：一个硬件通过打开一条线产生一个中断。建立CPU，当打开一条线路时，它存储关于当前所从事事情的足够的信息，以便稍后它还能够返回到相同的状态。这些信息构成了内部寄存器的主要内容，比如程序计数器。然后CPU跳至指定的内存并开始执行存储在那里的指令。那些指令组成了一个中断处理器，处理响应中断。（中断处理器是硬件驱动软件用来标识中断的一部分）在中断处理器的末端是一条指令告诉CPU应该跳到之前所处理的事情的那个状态，它通过读取之前的状态来达到这个效果。
12.25（第5页）
中断允许CPU处理异步事件。在固定的读取执行周期，这会通过预定指令执行；所发生的任何事对其他事而言都是属于异步。中断使得CPU在不可预知的时间高效地处理异步事件变成了可能。
使用另一个样例来展示中断是怎么使用的，考虑一下当CPU要访问硬盘中的数据时会发生什么。只有当数据在内存时，CPU才能够直接访问数据。在它访问之前必须要将数据从硬盘上拷贝到内存中。很不幸的时，就CPU操作的速度规模而言，硬盘的操作速度极其的慢。当CPU需要从硬盘中读取数据时，它就会发送一个信号给硬盘，让它定位数据并准备好。（这个信号是异步发送的，通过固定的程序控制）然后，硬盘开始着手做这件事而不是单纯地长时间等待，CPU继续执行其他任务。当硬盘准备好数据以后，它就会发送一个中断信号给CPU。中断处理可以开始读取请求数据。
到这里，你可能意识到这只有在CPU有很多任务需要执行时才会有意义。如果它没有其他事情要做，那么它也会花费全部时间询问输入或等待硬盘数据操作完成。所有的现代电脑都是在同一时间使用多任务操作。一些电脑可以供几个人同时使用。由于CPU的速度非常快，它可以在不同用户之间进行快速地转换。在用户之间按顺序耗费某一时间片段。这种多任务应用叫做时间共享。但是当前的个人电脑只能供一个人使用，它也是多任务的。当用户正在打字时，电脑上的时钟正在显示时间，与此同时可能网络上正在下载文件。
CPU所执行的每一个单项任务叫做线程（或者叫进程；线程和进程是有一些技术不同点，但在这个地方它们的区别不是很重要，在Java中这是作为线程来使用）。许多CPU可以同时执行多个线程，这样的CPU包含有多个核心，每个核心可以运行一个线程，但它在同一时间总是会有一个限定的执行线程的数量。因为总是会出现有多个线程在同一时间被执行的情况，电脑需要具备从一个线程转换到另一个线程上的能力，就如同电脑在多个用户之间进行转换那样，通过时间共享来实现。通常一个线程被执行，会发生这么几个事情：
线程会自动控制，给其他线程运行的机会。
线程可以等待其他异步事件的发生。比如它会等待从硬盘中读取数据或者是等待用户从键盘上按下一个键。当它在等待时，这个线程被称为锁定，这样其他线程就获得了运行的机会。当事件发生了，一个中断会唤醒这个线程以便它能继续执行下去。
一个线程可能会用光分配给它的时间片而导致暂停，然后让其他线程先运行，不是所有电脑都具备强制暂停线程的功能；只有那些被称作抢占多任务的才有。实现抢占多任务，电脑需要有一个特殊的时间装置在固定的周期内产生中断，比如每秒１００次。当时间中断发生时，CPU便获得一个线程转换的机会，不管当前执行的线程是否喜欢。所有现代的台式电脑和笔记本甚至经典的智能手机和平板电脑都在使用抢占多任务系统。
12.26
普通用户和普通的程序员没有必要处理中断和中断处理器。他们可以集中注意力到他们希望电脑执行的不同任务或线程上。电脑如何管理这些任务的执行对他们而言并不重要。实际上大部分用户以及程序员根本不需要关心线程和多任务。然而线程正变得越来越重要如同电脑变得更高端从而在多任务多进程中使用更广泛。实际上，多线程工作能力正逐渐变成程序员的基本工作技能。幸运的时Java支持多线程，并作为Java编程语言的基本编程内容。多线程编程的内容将会在第12章讲到。
如同异步事件在Java中很重要一样，它也是现代编程的基本内容。当程序员并不真正直接处理中断，他们通常是找到它们然后写事件处理，像中断处理器一样的，当指定的事件发生时，有时也称它作异步。这类“事件驱动编程”与传统的异步编程是不同的。在第6章我们开始进行我们开始那些还在个人事务中使用的传统类型的直接编程，但在后面部分还是会返回到线程和事件的异步编程。
*   *   *
另外，处理中断、处理用户与硬件之间的沟通以及控制哪个线程运行的软件叫做操作系统。操作系统是最基础的、最本质的软件，没有操作系统，电脑就是一堆废铁。其他编程，比如说word处理器、网络浏览器都是基于操作系统的。常见的操作系统有Linux，windows各种版本，以及苹果的OS系统。
1.3Java虚拟机
机器语言组成了由电脑CPU直接执行的简单指令。所有的程序，甚至是高级语言编写的，比如Java、Fortran或者C++。用高级语言编写的程序并不能在任何的电脑上直接执行。首先，它必须先转译成机器语言。这个翻译可以通过一个叫编译器的程序来执行。编译器将高级语言编写的程序转译成一个机器语言的可执行程序。一旦翻译完成，这个机器语言的程序就可以在任何时间段内运行，当然了，它只能在一种类型的电脑上运行。（每一种电脑都有属于自己的机器语言格式。）如果要程序在另外一种类型的电脑上运行，它必须要使用不同的编译器进行重新翻译成适当的机器语言。
编译高级语言程序有一个代替方案。需要的话，你可以使用一个一直在翻译的注释器来取代一个编译器。这个注释器由一个像CPU一样的程序来扮演，伴随着一种获取-执行循环。为了执行程序，这个注释器循环运行，反复读取并翻译程序中的指令，决定从指令中取出什么，并相应地执行机器指令来完成。
12.27
注释器的另一个用途是执行高级语言程序。比如LISP编程语言就常常是通过注释器而不是编译器来运行。然而，注释器还有另外一个目的，它们可以让你使用一种电脑上的机器语言编程然后在不同类型的电脑上运行。比如，有一种Commodore64家庭电脑也叫“C64”家庭电脑。当你找不到一个真正的C64，你可以找到运行在其他电脑上的程序，或者是运行在浏览器上仿真的那种。这样一个仿真器可以运行C64程序通过一个C64机器语言的注释器。
*  *  *
Java设计者选择使用编译和注释两种方式混合。Java程序被编译成机器语言，但这是一种并不实际存在的电脑的机器语言。也就是通常我们称为虚拟的电脑，即Java虚拟机，也叫JVM。Java虚拟机的机器语言叫做Java字节码。没有原因解释为什么Java字节码不能当成实际电脑的机器语言，而是一个虚拟的电脑。但实际上一个虚拟的机器使用使得Java的一个主要卖点变成可能：它可以在任何电脑上运行。所有这些电脑需要的只是Java字节码的注释器。这样的一个注释器像C64模拟器模拟一个Commodore64电脑一样，它模拟一个Java虚拟机。执行模拟的Java字节码注释器程序被称作JVM，因此我们说一个电脑需要一个JVM来运行Java程序。（JVM也被用作Java字节码注释器模拟程序，因此我们说计算机需要一个JVM来运行Java程序。技术上讲，注释器实现JVM比说它是一个JVM更为准确）。
当然，不同类型的电脑需要不同的Java字节码注释器，而一旦一个电脑有了一个Java字节码注释器，它就能运行任何类型的Java字节码类型程序。而且相同的程序可以运行在任何一台具有同种类型注释器的电脑上。这就是说Java的本质特征：跨平台特性。
 
你也许会有疑问，为什么要在中间使用Java字节码？为什么不直接分发Java程序的源代码并让每个人把它编译成他们想要运行的电脑上的机器语言。有几个理由。首先，编译器必须能理解Java，这个复杂的高级语言。编译器本身就是一个复杂的程序。从另一个角度来说，一个Java字节码注释器，是一个相当小的简单的程序。为一个电脑写一个Java字节码注释器相对来说比较简单。一旦有了注释器，电脑就可以运行任何编译过的Java程序。而为电脑写一个编译器就比较困难。
甚至一些Java程序是从网络上下载的，这会导致很多的安全问题：你并不想下载那些会损害你电脑和文件的Java程序。字节码注释器在你和你下载的程序之间扮演着一种流。你实际运行注释器，而注释器直接运行下载的程序。注释器可以从程序潜在的危险行为中保护你不受伤害。
12.28（第8页）
当Java刚出来的时候，它速度非常慢：因为Java字节码是通过注释器来执行的，看起来似乎是Java字节码程序永远也不可能像本地机器语言程序那样快（正在运行的程序所使用的计算机机器语言）。然而，这个问题随着能执行Java字节码的即时编译器出现后就解决了。即时编译器把Java字节码变成本地的机器语言。它在程序执行的时候同步执行。正如普通的解释器一样，输入到即时编译器的是Java字节码程序，它的任务就是执行那个程序，但它是边转译边执行的。程序转译部分的执行比解释要快的多，因为程序运行时，指定部分常多次执行，一个即时编译器可以显著地提高执行效率。
必须要指出的时Java和Java字节码之间没有任何必然联系。Java写的程序可以直接编译成计算机的机器语言。用其他语言写的程序也可以编译成Java字节码。然而，Java和Java字节码的结合允许现代面向对象编程的高级语言实现了跨平台、安全和网络兼容。
（前几年，创建新的编程语言非常流行或者把老语言编译成Java字节码。编译后的字节码程序可以在标准的JVM上执行，像groovy，Clojure，processing都是为JVM编程创造出来的新语言。对比JVM语言python和ruby，Jthon和Jruby是老一点的语言，这些语言使得享受除Java之外的一些JVM高级特性变成可能，实际上在JVM中使用其他语言变得重要到不得不在JVM中增加一些特性来支持这些语言，因此在java7和Java8中增加一些新特性来改进JVM。）
同样必须指出的是跨平台真正困难的部分是提供图形用户接口—窗口，按钮等等，这些要能运行在所有支持Java的平台上。在1.6节你会看到更多关于这个问题的信息。
1.4部分
建立程序的基础
程序有两个基本方面：数据和指令。运用数据，你需要明白变量和类型；运用指令，你需要明白结构和子程序。需要用课程的大部分时间来熟悉这些内容。
一个变量就是一块被赋予名字的内存（或者是作为一个单元的连续的几块内存）以便关联到程序中来使用。程序员只需要关心名字，编译器很负责地与内存块保持联系。作为一名程序员，你只需要记住名字相关的内存盒可以保留数据，甚至你都不需要直到这个盒子在内存中的哪个位置。在Java和其他编程语言中，变量都会有一个类型来显示它能够保留什么样的数据。其中一个变量类型是整型—全部的整数比如3，-7，0—同时有另一个浮点型数据类型—十进制数字带小数比如3.14，-2.7或者17.0（是的，在计算机里面整数17和浮点数17.0是有区别的）。也有字符型和字符串型。也有少量的结构体类型比如日期，颜色，声音，以及其他程序可能需要用到的各种类型数据。
程序语言通常都有命令从变量中读取和写入数据以及用数据进行运算。比如下面这个“赋值”语句，可能在Java程序中出现，告诉电脑获取变量principal的值，并将这个数字乘以0.07，并将结果存储到变量interest中：
Interest=principal*0.07;
同样有输入命令，从用户或者电脑硬盘上的文件获取数据，反过来说也有输出命令来发送数据。
这些基本命令--把数据从一个地方搬到另一个地方或者对数据进行演算—是所有程序的基本块。这些基本块使用结构和子程序来构成复杂程序。
程序是一系列的指令，在普通的“控制流”中，计算机按照指令在程序中出现次序的顺序执行，一个接一个。然而这显然有很大的局限性：计算机很快执行完指令。控制结构是可以改变控制流的特别指令。控制结构有两种基本控制类型：循环，允许一系列指令重复执行，分支，通过判断程序运行时发生的条件允许计算机决定两个或者更多的方向。
比如若变量principal的值大于10000，interest的值应该计算乘以0.05.否则就乘以0.04.程序需要一些方式来表达这种决定类型。在Java里面，它可以使用if语句来表达。
If（principal>10000）
Interest=principal*0.05
Else 
Interest=principal*0.04
现在还不需要担心细节，只需要记住计算机可以判断条件并且基于这个判断来决定接下来怎么做。
循环通常使用在那些需要执行超过一次的任务上。比如你想为邮件列表上每个名字打印邮寄标签，你也许会说，“获取第一个名字和地址然后打印标签，获得第二个名字和地址打印标签,,,“。但这将变得很有意味—如果你事先并不知道到底有多少名字，这可能就无法进行。你也许会说当需要处理更多名字时，获得下一个名字和地址并打印标签。在程序中使用循环可以这样进行表达。
大程序如此复杂以至于如果没有一些方式来划分成可管理的块，那就不可能把他们写出来。子程序提供一种方式来这么做。子程序由一系列执行一些分组作为单元并给予名字的任务的指令组成。这个名字可以用来代替这一系列的指令集。比如你程序中有一个任务需要在屏幕上画一个房子。你可以取相关的指令，把他们变成子程序，然后给那个子程序一个关联的名字比如“drawHouse()”。你程序中任何用到画房子的地方都可以调用下面这个指令:
drawHouse();
这与在同样的地方复用 画房子指令集是相同的影响。
这不仅是保存类型的优越性。把问题分解成多个子程序可以帮助组织你的想法和对问题进行设计。当你写画房子的子程序，可以专注到画房子不需要关心其他方面。程序完成后，你不必关注画房子的细节—问题解决了，你有一个子程序来解决。子程序变成你使用语言的一部分，不需要关心子程序的细节是什么样的。
变量，类型，循环，分支和子程序是传统编程的基本组成部分。但是随着程序越来越大，传统结构也变得越复杂。最有影响的就是面向对象编程，这将在下一部分谈到。
1.5部分
对象和面向对象编程
程序必须设计。没有人可以随随便便坐在电脑前面就可以编出一个复杂的程序。这就是软件工程，专门关心程序指令是否正确，运转，写得更好。软件工程试图使用正确的更好的方法来分析问题解决问题，用程序来解决问题。
在70年代末80年代初，基本的软件工程方法论是结构编程。结构编程的方法是程序基于以下的模式：把大问题分解成几块，然后各自进行设计，把新问题再分解成几个更小问题，一直细化下去，最后总归是能够直接解决问题。这个方法叫做自顶向下编程。
自顶向下编程没有什么错。它是解决问题常用的有价值的方法。但是还不够完备。比如，它几乎需要处理解决问题的全部指令。随着时间的推移，人们意识到结构化编程的设计不如子程序和控制结构设计那么重要。自顶向下编程对程序操作数据考虑还不够完善。
自顶向下编程还存在一个问题，项目可复用性比较差。开始特定问题并分解，自顶向下编程倾向于对应这个问题的唯一设计。不允许你从其他程序中选取部分程序修改适应新的项目，至少需要很大程度的改动。产生高质量的程序是非常困难和昂贵的，而程序员和员工通常都是喜欢把已做的工作进行复用。
因此自顶向下编程通常是和自底向上编程时一起联合使用。在自底向上的方法论中，程序是从底开始设计，你已经知道问题怎么解决（你手里已经拥有可复用的软件组件）。从结果可以向上到全部问题。
可复用的组件应该尽可能地模块化。模块化使得系统各组件变得简单，容易定义，方便管理。这是模块化插入到系统的思想。模块内部的细节对于系统来说并不重要，只要模块能够正确填满分配的角色就可以。这叫做信息隐藏，这是软件工程最重要的规则之一。
软件模块共同的形式之一是包含一些数据，以及一些操作数据的子程序。比如邮件列表模块可以包含名字和地址列表以及增加新名字的子程序、打印邮件标签的子程序等。这种模块，数据本身隐藏在模块里面，使用模块的程序只能通过调用模块提供的子程序间接操作数据。只用已知的定义好的方式操作数据也保护了数据的完整性。程序也能够更方便地调用模块，因为不需要关心数据的具体细节。展现数据的信息被隐藏了。
在80年代早期，支持信息隐藏的模块开始在编程语言中流行。从此以后，一个更高级的思想开始在软件工程中出现。这个方法论就是面向对象编程，通常简写为OOP。
面向对象编程关注的焦点是对象，也就是包含数据和子程序的模块。在面向对象编程的视角，对象是一种拥有内部状态并能做出响应的自给自足的实体。比如一个邮件列表对象，有由名字和地址组成的列表状态。如果你发送一个信息告诉它增加一个名字，它会相应做出响应和修改状态。如果你发送一个信息告诉它打印它自己，它会响应打印除名字和地址列表。
OOP通过定义与问题有关的实体以及对实体作出响应的信息这种方式开始进入软件工程。程序是一系列包含数据和责任的对象集合。对象间通过发送信息来产生作用。这样的程序没有大规模的自顶向下，习惯传统编程的人很难习惯面向对象编程。但是使用面向对象的人指出面向对象编程更符合世界本身工作的模式，因此更容易编写、更容易理解、更容易纠正。
你肯定会想对象是怎么知道响应对应的信息。不同的对象也许用不同的方法响应相同的信息。比如打印信息会产生不同的结果，这依赖于它传送的对象。对象的这个功能—不同的对象可以用不同的方法响应相同的信息—这就叫做多态。
通常对象都支持家族相似性。包含相同类型数据的对象和用属于同一个类相同的方法响应相同的信息。（在实际编程过程中，类是最基本的，创建一个类然后创建一个或多个对象使用类作为模板。）但对象可以相似而不必在同一个类里面。
比如一个让用户在屏幕上画直线、矩形、椭圆形、多边形、曲线的画图程序。程序里面，每一个可视的对象都可以通过程序里面一个软件对象来展示。在程序中将会由5类对象，每一种类型的对象都可以画出来。所有的直线都属于一个类，所有的矩形都属于另一个类等等。这些类显然是相关的。他们都展现“可画对象”。比如它们都可能会响应这么一个信息“画自己”。另外一种分组层次，基于所需要的数据来展现每一种对象类型，不太明显，但在程序里面却很有用：我们可以把多边形和曲线分为一组叫做“多点对象”，同时把直线、矩形、椭圆形划分为“两点对象”。（两点确定一条直线，两个对角确定一个矩形，椭圆可以通过矩形两个对角包含在里面。我这里所谈到的矩形包含了纵横两边，这样才能通过过两点来确定；这与画图程序中的矩形是一致的。）我们可以把这些关系图表化如下：
 
DrawableObject, MultipointObject和 TwoPointObject在程序中是类。MultipointObject和TwoPointObject成为DrawableObject的子类，直线成为TwoPointObject的子类，DrawableObject的间接子类。一个类的子类继承了它的属性。子类可以继承也可以重写继承（对方法定义不同的响应），然而直线，矩形等是可画对象，DrawableObject类表达这个关系。
在组织程序中，继承具有很重要的意义。同时它也与软件复用有联系。对象，类，面向对象编程是接下来本文非常重要的主题。你将会在下一章使用Java语言建立对象，在第5章你将会建立自己的对象和类。
1.6部分
现代用户接口
当计算机刚出来的时候—包括大部分程序员—并没有机会接触它。而是被锁在房间里面，由你把数据和程序交给管理员，管理员来操作，等过段时间结果出来后再把结果交给你。当时间共享时期—计算机的注意力从一个人迅速转到另一个身上--在1960年代发明的，这使得几个人在同一时间操作电脑变成可能。在时间共享系统，人们坐在可以传输命令的终端面前，电脑反馈它的响应。早期的个人计算机是输入命令然后作出响应，但同一时间只允许一个人来操作。这种在用户和电脑之间的用户接口叫做命令行接口。
当然今天大部分人操作的电脑是完全不同的。他们使用图形用户接口也叫GUI。计算机在屏幕上画接口组件。组件包含窗口、移动条、菜单、按钮和图标。通常鼠标操作一些组件，比如代替手指触屏。假如你不是从1970年代传输过来的，那么你一定熟悉图形用户界面的基本操作。
很多图形用户界面变成了标准。它们在os系统，window系统和linux系统上都有相似的显示和操作。Java程序被设定成跨平台，可以使用所有的GUI组件。在平台之间可能会有一些不同的显示，但是每个程序在不同计算机上的功能应该都是一样的。如图所示是一个展示一些GUI组件的简单的Java程序。当程序运行的时候，在计算机屏幕上就会出现如图所示的窗口。窗口上有四个组件供用户操作：按钮、复选框、文本框和下拉菜单。这些组件都被打了标签。窗口上还有其他的组件。标签也是一种组件（虽然你不能对它们进行操作）。右半边是一个文本框组件，可以展示多行文本，在文本框旁边有一个滚动条，当文本行数超过文本框时就会出现在右边。在Java术语中整个窗口也属于一个组件。
 
如果你想运行这个程序，在网上可以点击http://math.hws.edu/javanotes/source/chapter1/GUIDemo.java下载源代码，或者点击http://math.hws.edu/javanotes/jars/chapter1/GUIDemo.jar下载编译过的代码。更多关于这例子的信息以及其他例子可以在本书的2.6节可以看到。
Java有两个完整的GUI组件系列。一个时AWT，即Abstract Windowing Toolkit，在老一点版本的Java中使用。另一个是SWING，在Java的1.2版开始出现，在现代Java程序中用来关联AWT。上面展示的那个程序就使用了SWING组件。
当用户操作GUI组件，就产生可事件。比如点击下拉按钮，产生一个事件，在文本域按下回车产生一个事件，当事件产生，就会发送消息给程序，告诉它有事件产生了，然后程序对此作出响应。实际应用中，典型的GUI程序中事件处理句柄，它们告诉程序如何去响应不同类型的事件。在这个例子中，程序被编成对显示文本框信息的每一个事件作出响应。在现实的例子中事件处理句柄还有很多事情需要做。
把相互作用的东西叫做“消息”是经过慎重考虑的。消息在前面部分看到的，被发送给对象。实际上GUI组件被当作对象来实现。Java包含许多预定义的类来显示不同类型的GUI组件。当中有一些类是其他类的子类。下图是一个展示SWING的GUI类和它们之间关系的图。
 
不用担心具体细节，试着感受一下面向对象编程和继承的使用。我们注意到所有的GUI程序都是子类，直接或者间接地成为Jcomponent的子类，通过所有的SWING组件显示基本属性。在图中两个Jcomponent的子类本身也有子类。JTextArea 和JTextField类有共同的行为，被分作JTextComponent的子类。类似的JButton 和 JToggleButton是显示按钮和复选框共同属性的JAbstractButton类的子类。（JComboBox是swing用来显示下拉菜单的）。通过这些简短的介绍，你也许了解GUI编程是如何让面向对象设计高效使用的。实际上GUI程序以及它们可视化的对象可能是OOP编程流行的主要因素。
Java编程最有意思的地方之一就是GUI组件和事件编程。在到第六章之前，我们会花好几章来介绍基础内容。
1.7节网络和依赖。
计算机可以通过网络连接到一起。网络上的计算机可以通过交换数据和文件或者发送和接收消息相互联系。网络上的计算机甚至可以一起工作来进行大的计算。
今天成千上万的计算机通过一个叫做INTERNET的网络连接到一起。今天新计算机连接到Intenet都是通过无线或者是DSL，光缆调制器和以太网的技术连接到网络。
网络通过复杂的协议进行通信。协议就是对如何通信进行一个简单详细的说明。计算机之间要进行传输必须使用相同的协议。网络上最基本的协议是IternetProtocol(IP)，该协议指定数据在计算机之间如何进行物理传输，而传输控制协议（TCP）则是保证使用IP进行传输数据可以准确接收。这两个协议可以统称为TCP/IP，提供基础通信。其他协议使用TCP/IP传输指定类型的信息，比如网页、电子邮件和数据文件。
网络上是以包为单位进行通信。包是由计算机之间传输的数据以及显示数据即将到达的网络地址信息组成。可以把包比作一个地址在外面的信封，信息在信封里面。（信息就是数据）。包也含有一个返回地址，也就是发送者的地址。包含有数据量的限制：长的信息必须分成好几个包来传输，分开传输然后到达指定目的地址。
网络上每个计算机都有一个IP地址，一个在网络上所有计算机之间唯一识别它的数字。（严格来说，唯一不是特别的准确，但基本思想是可用的，实际上是非常复杂的。）IP地址是用在地址包上的。一个计算机只有在知道另一个计算机的IP地址才能够与它进行数据传输。由于人们更习惯用名字而不是数字，很多计算机都是通过名字来识别的，这些名字叫做域名。比如霍华特史密斯学院的数学部门的主计算机拥有域名math.hws.edu.(使用域名只是为了方便，计算机在通信之前还是必须要知道IP地址，网络上有一些是专门把域名解析为IP地址的计算机。当你使用一个域名，你的计算机发送消息到域名服务器找到对应的IP地址，然后计算机使用IP地址而不是域名传输信息给另外的计算机。)
网络提供给连接到它的计算机一系列的服务（当然也包括计算机用户）。这些服务通过网络使用TCP/IP协议传输各种类型的数据。即时消息、文件共享、电子邮件以及全球广域网是最受欢迎的服务。每个服务有自己的协议来控制网络上的数据转换。同时服务也有一些用户接口端口，端口允许用户通过该服务访问、发送、接收数据。
比如电子邮件使用简单邮件转换协议（SimpleMailTransferProtocol）从一个计算机转换邮件信息到另外一个计算机上。其他协议比如POP，IMAP用来从邮件账户获取消息，以便接收者可以读到它们。然而使用邮件的用户并不需要知道或了解这些协议。相反，他们只需要使用计算机程序来接收和发送邮件消息。在网络协议下，这些程序提供给用户一个易用的程序接口。
也许广域网是最令人兴奋的网络服务。广域网允许你请求存储在全世界网络计算机上的信息页面。网页上包括世界上其他计算机或者同一个计算机上存储的页面链接。存储有这样页面信息的计算机叫做网站服务器。网站的用户接口是一种叫做页面浏览器的程序。通常页面浏览器包括IE、Firefox、chrome、safari。我们使用页面浏览器来请求信息页面。浏览器发送页面请求给存储该页面的计算机，当收到该计算机的响应，浏览器就会用格式化的形式展现出来给用户。浏览器只是一个网络用户接口。在这个场景背后，网络浏览器使用的是一个超文本传输协议来传输和接收网站服务器上的页面。
现在也许你会想这些东西对Java有什么用？实际上Java与internet还有广域网有着非常亲密的联系。当Java刚开始发明的时候，它最大的吸引力是可以写applet程序。Applet是一个通过网络进行传输的在网页运行的小程序。Applet使得网页可以执行复杂的任务以及与用户进行复杂的互动。唉，applet受到各类安全问题的影响，而修复这些问题又会使applet变得更加难用。现在网页上很少使用applet程序了，而且在任何情况下都有其他选择可以代替applet。
但是applet只是Java与网络关系的一方面，Java可以用来写复杂的独立的不需要依赖浏览器运行的程序。很多这些程序都是网络相关的。比如很多大型的复杂的网站使用的网站服务器软件都是用Java写的。Java支持很多的网络协议，而它的跨平台特性使得它可以在许多不同类型的计算机上写网络程序。我们会在第11章学习到Java的网络支持。
网络支持并不是Java特有的，但很多的编程语言都会随着时间消亡，Java只不过是刚好赶上了网络人气增长的末班车。
由于Java已经成熟，它的应用通过网络获得了长足的发展。标准版的Java已经支持很多的技术，比如加密和数据压缩。自由拓展支持很多的技术比如高级的声音处理和三维图形。高性能的，复杂的系统也用Java来写。比如大数据处理系统hadoop,就是用Java写的。Hadoop被雅虎、Facebook用来处理它们用户产生的大数据。
而且Java在传统电脑上也没有受到限制。Java可以用来给很多智能手机写程序（但不是苹果手机）。它是安卓设备的基础语言。（部分手机终端使用的Java版本是JavaME），但安卓使用的是Google自己的Java版本，并不和标准版的Java一样使用相同的图形用户接口组件。Java也是亚马逊电子书kindle使用的编程语言，以及蓝光格式的视频光盘。
目前，Java是最广泛使用的编程语言。它是使用在不同类型计算机上的应用程序最佳选择，而选择的原因是很多编程语言编程只能运行在一种装置上。它可能也是中学和大学教得最广泛的编程语言。Java还与其他语言相似，比如C、C++、python，了解Java会让你更容易学习其他语言。总的来说，学习Java是一个专业的程序员之路的伟大开始。希望你能好好享受这个过程。
第一章结束。
 
第2章初级编程第一部分：命名和事务
在底层（机器语言层），计算机只能执行非常简单的操作。计算机通过把这些操作串起来执行复杂的任务。这些任务必须通过程序按照剧本完整地准确地执行。创造一个复杂程序是非常难的。但是困难通过给程序一个清晰完整的结构就可以把它处理到一定程度。程序结构设计就是我说的高级编程。
初级编程，有时候又叫做编码，会涉及到设计上的更多细节。这些细节是非常明确的，执行相当小规模任务的一步一步的指令。当你在编码的时候，你工作在接近机器思考的模式，一些内容你需要使用机器语言：内存位置、算术操作、循环和分支。在高级语言，比如Java，你可以工作在比机器语言要高好几个层次的水平上。但你还需要关注所有细节必须准确。
本章和下一次测验，考核使用Java编程的技巧。不要误解小编程就是非常简单或者不太重要。这些材料是各类型编程的重要基础。不管你大规模程序设计得多好，如果你不明白，你就无法写程序。本章的最后一部分讨论编程环境。这部分包含怎么编译和运行Java程序的相关信息，在你开始写或者使用自己的程序亦或者是使用样例代码之前，你应该先看看。
第2章的内容：
•	第1部分: 基本的Java应用 
•	第2部分: 变量和基本类型 
•	第3部分:字符、类、对象和子程序 
•	第4部分: 文本输入输出
•	第5部分: 表达式的细节 
•	第6部分: 编程环境
•	编程练习 
•	本章的问题。
2.1部分
基本的Java应用。
编程是计算机可以执行来完成一些任务的一系列指令。
